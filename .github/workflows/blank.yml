# This is a basic workflow to help you get started with Actions

name: Test Github workflow
  
# Controls when the workflow will run
on:
  # Triggers the workflow on push or pull request events but only for the main branch
  #push:
  #  branches: [ main ]
  #pull_request:
  #  branches: [ main ]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
    inputs:
        name:
          description: 'type of trigger'
          required: true
          default: 'manual' 
          type: string
          options:
          - refertest
          - manual
        home:
          description: 'One useless input :'
          required: false 
          type: string

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # create a job called firstJob
  job1 :
    name : "job1 : ${{github.event.inputs.name}}"
    runs-on : ubuntu-latest
    outputs:
      output1: ${{ steps.step1.outputs.test }}
      output2: ${{ steps.step2.outputs.test }}
    steps:
      - name :  ${{github.event.inputs.name}}
        id : step1
        run: echo "::set-output name=test::hello"
      - name : step 2
        id : step2
        run: echo "::set-output name=test::world"
  job2:
    runs-on: ubuntu-latest
    needs: job1
    steps:
      - run: echo ${{needs.job1.outputs.output1}} ${{needs.job1.outputs.output2}}  

